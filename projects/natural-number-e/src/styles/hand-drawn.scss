/**
 * 手绘风格样式
 * Hand-Drawn Style
 */

@import './variables.scss';

// ============================================
// 手绘风格基础类
// ============================================

.hand-drawn {
  position: relative;
  
  // 模拟手绘的不规则边框
  &::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background: transparent;
    border: 2px solid currentColor;
    filter: url(#hand-drawn-filter);
    pointer-events: none;
  }
}

// 手绘文字效果
.handwritten {
  font-family: $font-family-heading;
  letter-spacing: 0.05em;
  position: relative;
  
  // 轻微的旋转和不规则感
  &::first-letter {
    font-size: 1.2em;
    font-weight: bold;
  }
}

// 手绘下划线
.underline-hand {
  position: relative;
  text-decoration: none;
  
  &::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -2px;
    width: 100%;
    height: 2px;
    background: currentColor;
    transform: rotate(-0.5deg);
    opacity: 0.8;
  }
}

// 手绘圆形
.circle-hand {
  border-radius: 50%;
  position: relative;
  
  // 不完美的圆形效果
  clip-path: ellipse(48% 50% at 50% 50%);
}

// 手绘方框
.box-hand {
  position: relative;
  border: 3px solid $color-primary;
  border-radius: $radius-lg;
  padding: $spacing-lg;
  background: $bg-white;
  
  // 轻微旋转
  transform: rotate(-0.5deg);
  
  &:nth-child(even) {
    transform: rotate(0.5deg);
  }
  
  // 手绘阴影
  box-shadow: $shadow-hand;
  
  // 悬停效果
  transition: all $transition-base $easing-ease-in-out;
  
  &:hover {
    transform: rotate(0deg) translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  }
}

// 手绘按钮
.btn-hand {
  position: relative;
  padding: $spacing-sm $spacing-lg;
  border: 3px solid currentColor;
  border-radius: $radius-full;
  background: $bg-white;
  font-family: $font-family-base;
  font-weight: $font-weight-bold;
  cursor: pointer;
  transition: all $transition-base $easing-ease-in-out;
  
  // 轻微倾斜
  transform: rotate(-1deg);
  
  &:hover {
    transform: rotate(0deg) scale(1.05);
    box-shadow: $shadow-md;
  }
  
  &:active {
    transform: rotate(1deg) scale(0.98);
  }
  
  // 不同颜色变体
  &.primary {
    color: $text-white;
    background: $color-primary;
    border-color: $color-primary-dark;
  }
  
  &.secondary {
    color: $text-white;
    background: $color-secondary;
    border-color: $color-secondary-dark;
  }
  
  &.accent {
    color: $text-primary;
    background: $color-accent;
    border-color: $color-accent-dark;
  }
}

// 手绘卡片
.card-hand {
  position: relative;
  padding: $spacing-xl;
  background: $bg-white;
  border: 3px solid $color-primary;
  border-radius: $radius-xl;
  box-shadow: $shadow-hand;
  
  // 随机旋转
  &:nth-child(odd) {
    transform: rotate(-1deg);
  }
  
  &:nth-child(even) {
    transform: rotate(1deg);
  }
  
  // 悬停效果
  transition: all $transition-base $easing-ease-out;
  
  &:hover {
    transform: rotate(0deg) translateY(-8px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
  }
}

// 手绘涂鸦线
.doodle-line {
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: repeating-linear-gradient(
      90deg,
      $color-accent 0px,
      $color-accent 5px,
      transparent 5px,
      transparent 10px
    );
    transform: skew(-2deg);
  }
}

// 手绘星星装饰
.star-decoration {
  position: relative;
  
  &::before {
    content: '✨';
    position: absolute;
    top: -10px;
    right: -10px;
    font-size: 1.5em;
    animation: twinkle 2s infinite;
  }
}

@keyframes twinkle {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(1.2);
  }
}

// 手绘波浪线
.wavy-underline {
  text-decoration: none;
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -4px;
    width: 100%;
    height: 6px;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 4'%3E%3Cpath d='M0,2 Q5,0 10,2 T20,2' stroke='%235470c6' stroke-width='1' fill='none'/%3E%3C/svg%3E");
    background-repeat: repeat-x;
  }
}

// 手绘箭头
.arrow-hand {
  position: relative;
  
  &::after {
    content: '→';
    margin-left: $spacing-sm;
    display: inline-block;
    transition: transform $transition-base;
  }
  
  &:hover::after {
    transform: translateX(5px);
  }
}

// 手绘涂鸦背景
.doodle-bg {
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.05;
    background-image: 
      radial-gradient(circle at 20% 30%, $color-primary 1px, transparent 1px),
      radial-gradient(circle at 60% 70%, $color-secondary 1px, transparent 1px),
      radial-gradient(circle at 80% 20%, $color-accent 1px, transparent 1px);
    background-size: 50px 50px;
    pointer-events: none;
  }
}

// 手绘纸张效果
.paper-texture {
  background-color: $bg-light;
  background-image: $texture-paper;
  background-repeat: repeat;
  background-size: 10px 10px;
  
  // 纸张边缘撕裂效果
  &.torn-edge {
    position: relative;
    
    &::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 100%;
      height: 10px;
      background: linear-gradient(
        45deg,
        transparent 33.33%,
        $bg-light 33.33%,
        $bg-light 66.66%,
        transparent 66.66%
      );
      background-size: 8px 10px;
    }
  }
}

// 手绘标签
.tag-hand {
  display: inline-block;
  padding: $spacing-xs $spacing-md;
  background: $color-accent;
  color: $text-primary;
  border: 2px solid $color-accent-dark;
  border-radius: $radius-md;
  font-size: $font-size-sm;
  font-weight: $font-weight-semibold;
  transform: rotate(-2deg);
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  
  &:nth-child(2n) {
    transform: rotate(2deg);
  }
}

// 手绘引用框
.quote-hand {
  position: relative;
  padding: $spacing-lg;
  padding-left: $spacing-2xl;
  margin: $spacing-xl 0;
  background: linear-gradient(135deg, #fff9e6 0%, #ffe6f0 100%);
  border-left: 4px solid $color-primary;
  border-radius: $radius-md;
  font-style: italic;
  
  &::before {
    content: '"';
    position: absolute;
    left: $spacing-md;
    top: $spacing-sm;
    font-size: 3rem;
    color: $color-primary;
    opacity: 0.3;
    font-family: Georgia, serif;
  }
}

// 手绘笔记本样式
.notebook-lines {
  background-image: repeating-linear-gradient(
    transparent,
    transparent 29px,
    $border-light 29px,
    $border-light 30px
  );
  padding: $spacing-xl;
  line-height: 30px;
}
